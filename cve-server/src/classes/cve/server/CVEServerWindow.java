package cve.server;

import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;

import javax.swing.JFrame;
import javax.swing.JTextArea;

public class CVEServerWindow extends JFrame implements WindowListener {
    
    final String message = 
        "maybe without standard output.\n" +
        "Note: Exceptions from CVEServer won't reach here.\n\n" + 
        "Run \"cve.server.CVEServer\" in this Java archive\n" +
        "by command line to see its output, like following:\n"+
        "> java -classpath cve2006.jar cve.server.CVEServer\n\n" +
        "Closing this window will end the server.\n"+
        "For more detail, read ReadMe.txt in this jar file.";
    
    JTextArea messageArea;
    
    CVEServerWindow(){
        setTitle("Started CVE Server " + CVEServer.Version);
        
        messageArea = new JTextArea( message);
        getContentPane().add( messageArea);
        
        addWindowListener( this);
        pack();
        setVisible(true);

        CVEServer.main( new String[0]);
    }


    public void windowClosing(WindowEvent arg0) {
        System.exit(0);
    }
    /* Do-nothing methods for WindowListener */
    public void windowActivated(WindowEvent arg0) {}
    public void windowClosed(WindowEvent arg0) {}
    public void windowDeactivated(WindowEvent arg0) {}
    public void windowDeiconified(WindowEvent arg0) {}
    public void windowIconified(WindowEvent arg0) {}
    public void windowOpened(WindowEvent arg0) {}

    /**
     * @param args
     */
    public static void main(String[] args) {
        new CVEServerWindow();
    }

}
